var app=function(){"use strict";function n(n,t){return n?0===n.indexOf(t)?n:t+n:""}function t(n,t){return 0===n.indexOf(t)?n.slice(t.length):n}function e(n){return n||""}function r(n){return n||""}function o(){}function i(){try{return window.history.state||{}}catch(n){return{}}}function a(){}var c=y,u=d,s=function(n,t){return h(d(n,t))},l=h,f=$,p=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(n,t){for(var e,r=[],o=0,i=0,a="",c=t&&t.delimiter||"/",u=t&&t.delimiters||"./",s=!1;null!==(e=p.exec(n));){var l=e[0],f=e[1],d=e.index;if(a+=n.slice(i,d),i=d+l.length,f)a+=f[1],s=!0;else{var h="",g=n[i],$=e[2],y=e[3],w=e[4],x=e[5];if(!s&&a.length){var b=a.length-1;u.indexOf(a[b])>-1&&(h=a[b],a=a.slice(0,b))}a&&(r.push(a),a="",s=!1);var k=""!==h&&void 0!==g&&g!==h,E="+"===x||"*"===x,q="?"===x||"*"===x,A=h||c,_=y||w;r.push({name:$||o++,prefix:h,delimiter:A,optional:q,repeat:E,partial:k,pattern:_?v(_):"[^"+m(A)+"]+?"})}}return(a||i<n.length)&&r.push(a+n.substr(i)),r}function h(n){for(var t=new Array(n.length),e=0;e<n.length;e++)"object"==typeof n[e]&&(t[e]=new RegExp("^(?:"+n[e].pattern+")$"));return function(e,r){for(var o="",i=r&&r.encode||encodeURIComponent,a=0;a<n.length;a++){var c=n[a];if("string"!=typeof c){var u,s=e?e[c.name]:void 0;if(Array.isArray(s)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but got array');if(0===s.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var l=0;l<s.length;l++){if(u=i(s[l],c),!t[a].test(u))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'"');o+=(0===l?c.prefix:c.delimiter)+u}}else if("string"!=typeof s&&"number"!=typeof s&&"boolean"!=typeof s){if(!c.optional)throw new TypeError('Expected "'+c.name+'" to be '+(c.repeat?"an array":"a string"));c.partial&&(o+=c.prefix)}else{if(u=i(String(s),c),!t[a].test(u))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but got "'+u+'"');o+=c.prefix+u}}else o+=c}return o}}function m(n){return n.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function v(n){return n.replace(/([=!:$/()])/g,"\\$1")}function g(n){return n&&n.sensitive?"":"i"}function $(n,t,e){for(var r=(e=e||{}).strict,o=!1!==e.start,i=!1!==e.end,a=m(e.delimiter||"/"),c=e.delimiters||"./",u=[].concat(e.endsWith||[]).map(m).concat("$").join("|"),s=o?"^":"",l=0===n.length,f=0;f<n.length;f++){var p=n[f];if("string"==typeof p)s+=m(p),l=f===n.length-1&&c.indexOf(p[p.length-1])>-1;else{var d=p.repeat?"(?:"+p.pattern+")(?:"+m(p.delimiter)+"(?:"+p.pattern+"))*":p.pattern;t&&t.push(p),p.optional?p.partial?s+=m(p.prefix)+"("+d+")?":s+="(?:"+m(p.prefix)+"("+d+"))?":s+=m(p.prefix)+"("+d+")"}}return i?(r||(s+="(?:"+a+")?"),s+="$"===u?"$":"(?="+u+")"):(r||(s+="(?:"+a+"(?="+u+"))?"),l||(s+="(?="+a+"|"+u+")")),new RegExp(s,g(e))}function y(n,t,e){return n instanceof RegExp?function(n,t){if(!t)return n;var e=n.source.match(/\((?!\?)/g);if(e)for(var r=0;r<e.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return n}(n,t):Array.isArray(n)?function(n,t,e){for(var r=[],o=0;o<n.length;o++)r.push(y(n[o],t,e).source);return new RegExp("(?:"+r.join("|")+")",g(e))}(n,t,e):function(n,t,e){return $(d(n,e),t,e)}(n,t,e)}function w(n){return"externalURL"in n}function x(n,t,e,r,o){var i=e||{},a=i.resolved,c=void 0===a?null:a,u=i.error,s=void 0===u?null:u,l={data:void 0,body:void 0,meta:void 0};for(var f in t)l[f]=t[f];if(!n.methods.respond)return l;var p=n.methods.respond({resolved:c,error:s,match:t,external:o});return p?(l.meta=p.meta,l.body=p.body,l.data=p.data,p.redirect&&(l.redirect=function(n,t){if(w(n))return n;var e=n.name,r=n.params,o=n.query,i=n.hash,a=n.state,c=t.url({name:e,params:r,query:o,hash:i});return{name:e,params:r,query:o,hash:i,state:a,url:c}}(p.redirect,r)),l):l}c.parse=u,c.compile=s,c.tokensToFunction=l,c.tokensToRegExp=f;var b=function(n){return"/"===n.charAt(0)?n:"/"+n};function k(n,t){var e=n.matching,r=e.re,o=e.children,i=e.exact,a=r.exec(t);if(!a)return[];var c=a[0],u=[{route:n,parsed:a.slice(1)}],s=t.slice(c.length);if(!o.length||""===s)return u;for(var l=b(s),f=0,p=o.length;f<p;f++){var d=k(o[f],l);if(d.length)return u.concat(d)}return i?[]:u}function E(n,t){var e=n[n.length-1].route.public;return{route:e,match:{location:t,name:e.name,params:n.reduce((function(n,t){var e=t.route;return t.parsed.forEach((function(t,r){var o=e.matching.keys[r].name,i=e.matching.parsers[o]||decodeURIComponent;n[o]=i(t)})),n}),{})}}}function q(){}function A(n,t){for(const e in t)n[e]=t[e];return n}function _(n){return n()}function j(){return Object.create(null)}function N(n){n.forEach(_)}function O(n){return"function"==typeof n}function T(n,t){return n!=n?t==t:n!==t||n&&"object"==typeof n||"function"==typeof n}function R(n,...t){if(null==n)return q;const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function C(n,t,e){n.$$.on_destroy.push(R(t,e))}function I(n,t,e,r){if(n){const o=S(n,t,e,r);return n[0](o)}}function S(n,t,e,r){return n[1]&&r?A(e.ctx.slice(),n[1](r(t))):e.ctx}function L(n,t,e,r){if(n[2]&&r){const o=n[2](r(e));if("object"==typeof t.dirty){const n=[],e=Math.max(t.dirty.length,o.length);for(let r=0;r<e;r+=1)n[r]=t.dirty[r]|o[r];return n}return t.dirty|o}return t.dirty}function P(n){const t={};for(const e in n)"$"!==e[0]&&(t[e]=n[e]);return t}function D(n,t){n.appendChild(t)}function K(n,t,e){n.insertBefore(t,e||null)}function M(n){n.parentNode.removeChild(n)}function U(n){return document.createElement(n)}function H(n){return document.createTextNode(n)}function z(){return H(" ")}function F(){return H("")}function W(n,t,e){null==e?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function B(n,t){const e=Object.getOwnPropertyDescriptors(n.__proto__);for(const r in t)null==t[r]?n.removeAttribute(r):"style"===r?n.style.cssText=t[r]:e[r]&&e[r].set?n[r]=t[r]:W(n,r,t[r])}function V(n,t){t=""+t,n.data!==t&&(n.data=t)}let Y;function G(n){Y=n}function J(){if(!Y)throw new Error("Function called outside component initialization");return Y}function Q(n,t){J().$$.context.set(n,t)}function X(n){return J().$$.context.get(n)}const Z=[],nn=[],tn=[],en=[],rn=Promise.resolve();let on=!1;function an(n){tn.push(n)}const cn=new Set;function un(){do{for(;Z.length;){const n=Z.shift();G(n),sn(n.$$)}for(;nn.length;)nn.pop()();for(let n=0;n<tn.length;n+=1){const t=tn[n];cn.has(t)||(cn.add(t),t())}tn.length=0}while(Z.length);for(;en.length;)en.pop()();on=!1,cn.clear()}function sn(n){if(null!==n.fragment){n.update(),N(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(an)}}const ln=new Set;let fn;function pn(){fn={r:0,c:[],p:fn}}function dn(){fn.r||N(fn.c),fn=fn.p}function hn(n,t){n&&n.i&&(ln.delete(n),n.i(t))}function mn(n,t,e,r){if(n&&n.o){if(ln.has(n))return;ln.add(n),fn.c.push(()=>{ln.delete(n),r&&(e&&n.d(1),r())}),n.o(t)}}function vn(n){n&&n.c()}function gn(n,t,e){const{fragment:r,on_mount:o,on_destroy:i,after_update:a}=n.$$;r&&r.m(t,e),an(()=>{const t=o.map(_).filter(O);i?i.push(...t):N(t),n.$$.on_mount=[]}),a.forEach(an)}function $n(n,t){const e=n.$$;null!==e.fragment&&(N(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function yn(n,t){-1===n.$$.dirty[0]&&(Z.push(n),on||(on=!0,rn.then(un)),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function wn(n,t,e,r,o,i,a=[-1]){const c=Y;G(n);const u=t.props||{},s=n.$$={fragment:null,ctx:null,props:i,update:q,not_equal:o,bound:j(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:j(),dirty:a};let l=!1;s.ctx=e?e(n,u,(t,e,...r)=>{const i=r.length?r[0]:e;return s.ctx&&o(s.ctx[t],s.ctx[t]=i)&&(s.bound[t]&&s.bound[t](i),l&&yn(n,t)),e}):[],s.update(),l=!0,N(s.before_update),s.fragment=!!r&&r(s.ctx),t.target&&(t.hydrate?s.fragment&&s.fragment.l(function(n){return Array.from(n.childNodes)}(t.target)):s.fragment&&s.fragment.c(),t.intro&&hn(n.$$.fragment),gn(n,t.target,t.anchor),un()),G(c)}class xn{$destroy(){$n(this,1),this.$destroy=q}$on(n,t){const e=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return e.push(t),()=>{const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}$set(){}}const bn=[];function kn(n,t){return{subscribe:En(n,t).subscribe}}function En(n,t=q){let e;const r=[];function o(t){if(T(n,t)&&(n=t,e)){const t=!bn.length;for(let t=0;t<r.length;t+=1){const e=r[t];e[1](),bn.push(e,n)}if(t){for(let n=0;n<bn.length;n+=2)bn[n][0](bn[n+1]);bn.length=0}}}return{set:o,update:function(t){o(t(n))},subscribe:function(i,a=q){const c=[i,a];return r.push(c),1===r.length&&(e=t(o)||q),i(n),()=>{const n=r.indexOf(c);-1!==n&&r.splice(n,1),0===r.length&&(e(),e=null)}}}}const qn=En({name:"Player1",energy:5,hp:100});function An(n){let t;return{c(){t=H("no user found, please register")},m(n,e){K(n,t,e)},d(n){n&&M(t)}}}function _n(n){let t;return{c(){t=U("div"),t.innerHTML='<div class="row svelte-paakgq"><span class="head svelte-paakgq"></span></div> \n    <div class="row svelte-paakgq"><span class="arm svelte-paakgq"></span> \n      <span class="body svelte-paakgq"></span> \n      <span class="arm svelte-paakgq"></span></div> \n    <div class="row svelte-paakgq"><span class="foot svelte-paakgq"></span> \n      <span class="foot svelte-paakgq"></span></div>',W(t,"class","figure svelte-paakgq")},m(n,e){K(n,t,e)},d(n){n&&M(t)}}}function jn(n){let t,e;function r(n,t){return n[0]?_n:An}let o=r(n),i=o(n);return{c(){t=H("INVENTORY\n"),i.c(),e=F()},m(n,r){K(n,t,r),i.m(n,r),K(n,e,r)},p(n,[t]){o!==(o=r(n))&&(i.d(1),i=o(n),i&&(i.c(),i.m(e.parentNode,e)))},i:q,o:q,d(n){n&&M(t),i.d(n),n&&M(e)}}}function Nn(n,t,e){let r;return C(n,qn,n=>e(0,r=n)),[r]}class On extends xn{constructor(n){super(),wn(this,n,Nn,jn,T,{})}}const Tn=function(n){var t={},e=n.map((function(n){return function n(t,e,r){void 0===r&&(r={path:"",keys:[]});var o,i,a,u=b((o=r.path,i=t.path,("/"===(a=o).charAt(a.length-1)?a:a+"/")+i)),s=t.pathOptions||{},l=s.match,f=void 0===l?{}:l,p=s.compile,d=void 0===p?{}:p,h=null==f.end||f.end;t.children&&t.children.length&&(f.end=!1);var m=[],v=c(b(t.path),m,f),g=m.map((function(n){return n.name}));r.keys.length&&(g=r.keys.concat(g));var $=[],y=[];t.children&&t.children.length&&(y=($=t.children.map((function(t){return n(t,e,{path:u,keys:g})}))).map((function(n){return n.public})));var w=c.compile(u),x={public:{name:t.name,keys:g,parent:void 0,children:y,methods:{resolve:t.resolve,respond:t.respond,pathname:function(n){return w(n,d)}},extra:t.extra},matching:{re:v,keys:m,exact:h,parsers:t.params||{},children:$}};return e[t.name]=x.public,$.length&&$.forEach((function(n){n.public.parent=x.public})),x}(n,t)}));return{match:function(n){return function(n,t){for(var e=0,r=t.length;e<r;e++){var o=k(t[e],n.pathname);if(o.length)return E(o,n)}}(n,e)},route:function(n){return t[n]}}}([{name:"Dashboard",path:"",respond:()=>({body:""})},{name:"Inventory",path:"inventory",respond:()=>({body:On})}]);var Rn={},Cn={},In={};function Sn(n){let t;const e=n[2].default,r=I(e,n,n[1],null);return{c(){r&&r.c()},m(n,e){r&&r.m(n,e),t=!0},p(n,[t]){r&&r.p&&2&t&&r.p(S(e,n,n[1],null),L(e,n[1],t,null))},i(n){t||(hn(r,n),t=!0)},o(n){mn(r,n),t=!1},d(n){r&&r.d(n)}}}function Ln(n,t,e){let{router:r}=t;!function(n){var t=n.current(),e=kn(t.response,(function(t){return n.observe((function(n){var e=n.response;t(e)}))})),r=kn(t.navigation,(function(t){return n.observe((function(n){var e=n.navigation;t(e)}))}));Q(Rn,n),Q(Cn,e),Q(In,r)}(r);let{$$slots:o={},$$scope:i}=t;return n.$set=n=>{"router"in n&&e(0,r=n.router),"$$scope"in n&&e(1,i=n.$$scope)},[r,i,o]}class Pn extends xn{constructor(n){super(),wn(this,n,Ln,Sn,T,{router:0})}}function Dn(n){let t,e,r;const o=n[21].default,i=I(o,n,n[20],null);let a=[n[1],{href:n[0]}],c={};for(let n=0;n<a.length;n+=1)c=A(c,a[n]);return{c(){t=U("a"),i&&i.c(),B(t,c)},m(o,a){var c,u,s,l;K(o,t,a),i&&i.m(t,null),e=!0,c=t,u="click",s=n[2],c.addEventListener(u,s,l),r=()=>c.removeEventListener(u,s,l)},p(n,[e]){i&&i.p&&1048576&e&&i.p(S(o,n,n[20],null),L(o,n[20],e,null)),B(t,function(n,t){const e={},r={},o={$$scope:1};let i=n.length;for(;i--;){const a=n[i],c=t[i];if(c){for(const n in a)n in c||(r[n]=1);for(const n in c)o[n]||(e[n]=c[n],o[n]=1);n[i]=c}else for(const n in a)o[n]=1}for(const n in r)n in e||(e[n]=void 0);return e}(a,[2&e&&n[1],1&e&&{href:n[0]}]))},i(n){e||(hn(i,n),e=!0)},o(n){mn(i,n),e=!1},d(n){n&&M(t),i&&i.d(n),r()}}}function Kn(n,t,e){let r=X(Rn);const o=(n,t)=>!n.defaultPrevented&&!t&&0===n.button&&!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey);let{name:i}=t,{params:a={}}=t,{hash:c}=t,{query:u}=t,{state:s=null}=t;const{name:l,params:f,hash:p,query:d,state:h,wrapped:m,$$slots:v,$$scope:g,...$}=t;let y,w,{$$slots:x={},$$scope:b}=t;return n.$set=n=>{e(19,t=A(A({},t),P(n))),"name"in n&&e(3,i=n.name),"params"in n&&e(4,a=n.params),"hash"in n&&e(5,c=n.hash),"query"in n&&e(6,u=n.query),"state"in n&&e(7,s=n.state),"$$scope"in n&&e(20,b=n.$$scope)},n.$$.update=()=>{120&n.$$.dirty&&e(0,y=r.url({name:i,params:a,hash:c,query:u}))},w=$.target,t=P(t),[y,$,function(n){o(n,w)&&(n.preventDefault(),r.navigate({url:y,state:s}))},i,a,c,u,s,w,r,o,l,f,p,d,h,m,v,g,t,b,x]}class Mn extends xn{constructor(n){super(),wn(this,n,Kn,Dn,T,{name:3,params:4,hash:5,query:6,state:7})}}function Un(n){let t;return{c(){t=H("no user found, please register")},m(n,e){K(n,t,e)},p:q,d(n){n&&M(t)}}}function Hn(n){let t,e,r,o,i,a,c,u=n[0].name+"",s=n[0].energy+"";return{c(){t=U("div"),e=U("h4"),r=H("Welcome, "),o=H(u),i=H(" (energy: "),a=H(s),c=H(")"),W(t,"class","container svelte-a5c4d2")},m(n,u){K(n,t,u),D(t,e),D(e,r),D(e,o),D(e,i),D(e,a),D(e,c)},p(n,t){1&t&&u!==(u=n[0].name+"")&&V(o,u),1&t&&s!==(s=n[0].energy+"")&&V(a,s)},d(n){n&&M(t)}}}function zn(n){let t;function e(n,t){return n[0]?Hn:Un}let r=e(n),o=r(n);return{c(){o.c(),t=F()},m(n,e){o.m(n,e),K(n,t,e)},p(n,[i]){r===(r=e(n))&&o?o.p(n,i):(o.d(1),o=r(n),o&&(o.c(),o.m(t.parentNode,t)))},i:q,o:q,d(n){o.d(n),n&&M(t)}}}function Fn(n,t,e){let r;return C(n,qn,n=>e(0,r=n)),[r]}class Wn extends xn{constructor(n){super(),wn(this,n,Fn,zn,T,{})}}function Bn(n){let t;return{c(){t=H("ArmUp")},m(n,e){K(n,t,e)},d(n){n&&M(t)}}}function Vn(n){let t,e,r,o,i;const a=new Mn({props:{name:"Dashboard",$$slots:{default:[Bn]},$$scope:{ctx:n}}}),c=new Wn({});return{c(){t=U("div"),vn(a.$$.fragment),e=z(),r=U("hr"),o=z(),vn(c.$$.fragment),W(r,"class","svelte-r1k7zt")},m(n,u){K(n,t,u),gn(a,t,null),K(n,e,u),K(n,r,u),K(n,o,u),gn(c,n,u),i=!0},p(n,[t]){const e={};1&t&&(e.$$scope={dirty:t,ctx:n}),a.$set(e)},i(n){i||(hn(a.$$.fragment,n),hn(c.$$.fragment,n),i=!0)},o(n){mn(a.$$.fragment,n),mn(c.$$.fragment,n),i=!1},d(n){n&&M(t),$n(a),n&&M(e),n&&M(r),n&&M(o),$n(c,n)}}}class Yn extends xn{constructor(n){super(),wn(this,n,null,Vn,T,{})}}function Gn(n){let t,e;var r=n[1].body;if(r)var o=new r({});return{c(){o&&vn(o.$$.fragment),t=F()},m(n,r){o&&gn(o,n,r),K(n,t,r),e=!0},p(n,e){if(r!==(r=n[1].body)){if(o){pn();const n=o;mn(n.$$.fragment,1,0,()=>{$n(n,1)}),dn()}r?(vn((o=new r({})).$$.fragment),hn(o.$$.fragment,1),gn(o,t.parentNode,t)):o=null}},i(n){e||(o&&hn(o.$$.fragment,n),e=!0)},o(n){o&&mn(o.$$.fragment,n),e=!1},d(n){n&&M(t),o&&$n(o,n)}}}function Jn(n){let t;return{c(){t=H("Inventory")},m(n,e){K(n,t,e)},d(n){n&&M(t)}}}function Qn(n){let t,e,r,o,i,a;const c=new Yn({});let u=n[1]&&Gn(n);const s=new Mn({props:{name:"Inventory",$$slots:{default:[Jn]},$$scope:{ctx:n}}});return{c(){t=U("div"),e=U("div"),vn(c.$$.fragment),r=z(),o=U("div"),u&&u.c(),i=z(),vn(s.$$.fragment),W(o,"class","content svelte-1e5djoa"),W(e,"class","layout svelte-1e5djoa"),W(t,"class","container svelte-1e5djoa")},m(n,l){K(n,t,l),D(t,e),gn(c,e,null),D(e,r),D(e,o),u&&u.m(o,null),D(o,i),gn(s,o,null),a=!0},p(n,[t]){n[1]?u?(u.p(n,t),hn(u,1)):(u=Gn(n),u.c(),hn(u,1),u.m(o,i)):u&&(pn(),mn(u,1,1,()=>{u=null}),dn());const e={};4&t&&(e.$$scope={dirty:t,ctx:n}),s.$set(e)},i(n){a||(hn(c.$$.fragment,n),hn(u),hn(s.$$.fragment,n),a=!0)},o(n){mn(c.$$.fragment,n),mn(u),mn(s.$$.fragment,n),a=!1},d(n){n&&M(t),$n(c),u&&u.d(),$n(s)}}}function Xn(n,t,e){let r,o,i=q;return n.$$.on_destroy.push(()=>i()),e(0,o=X(Cn)),i(),i=R(o,n=>e(1,r=n)),[o,r]}class Zn extends xn{constructor(n){super(),wn(this,n,Xn,Qn,T,{})}}function nt(n){let t;const e=new Zn({});return{c(){vn(e.$$.fragment)},m(n,r){gn(e,n,r),t=!0},i(n){t||(hn(e.$$.fragment,n),t=!0)},o(n){mn(e.$$.fragment,n),t=!1},d(n){$n(e,n)}}}function tt(n){let t;const e=new Pn({props:{router:n[0],$$slots:{default:[nt]},$$scope:{ctx:n}}});return{c(){vn(e.$$.fragment)},m(n,r){gn(e,n,r),t=!0},p(n,[t]){const r={};1&t&&(r.router=n[0]),2&t&&(r.$$scope={dirty:t,ctx:n}),e.$set(r)},i(n){t||(hn(e.$$.fragment,n),t=!0)},o(n){mn(e.$$.fragment,n),t=!1},d(n){$n(e,n)}}}function et(n,t,e){let{router:r}=t;return n.$set=n=>{"router"in n&&e(0,r=n.router)},[r]}const rt=function(n,t,e){var r,o;void 0===e&&(e={});var i=n((function(n){var o={action:n.action,previous:r},c=t.match(n.location);if(!c)return n.finish(),void m();var u=c.route,l=c.match;!function(n){return void 0!==n.methods.resolve}(u)?a(u,l,n,o,null):(g.length&&void 0===s&&(s=function(){i.cancel(),$(),h()},g.forEach((function(n){n(s)}))),u.methods.resolve(l,e.external).then((function(n){return{resolved:n,error:null}}),(function(n){return{error:n,resolved:null}})).then((function(t){n.cancelled||a(u,l,n,o,t)})))}),e.history||{});function a(n,t,a,c,u){$(),a.finish();var s=x(n,t,u,y,e.external);m(),function(n,t){if(!n.redirect||!f||w(n.redirect)){r=n,o=t;var a={response:n,navigation:t,router:y};c=a,p.forEach((function(n){n(c)})),function(n){d.splice(0).forEach((function(t){t(n)})),e.sideEffects&&e.sideEffects.forEach((function(t){t(n)}))}(a)}var c;void 0===n.redirect||w(n.redirect)||i.navigate(n.redirect,"replace")}(s,c)}var c,u,s,l=e.invisibleRedirects,f=void 0!==l&&l,p=[],d=[];function h(){c&&c(),v()}function m(){u&&u(),v()}function v(){c=void 0,u=void 0}var g=[];function $(){s&&(s=void 0,g.forEach((function(n){n()})))}var y={route:t.route,history:i,external:e.external,observe:function(n,t){var e=(t||{}).initial,i=void 0===e||e;return p.push(n),r&&i&&n({response:r,navigation:o,router:y}),function(){p=p.filter((function(t){return t!==n}))}},once:function(n,t){var e=(t||{}).initial;r&&(void 0===e||e)?n({response:r,navigation:o,router:y}):d.push(n)},cancel:function(n){return g.push(n),function(){g=g.filter((function(t){return t!==n}))}},url:function(n){var t,e=n.name,r=n.params,o=n.hash,a=n.query;if(e){var c=y.route(e);c&&(t=function(n,t){return n.methods.pathname(t)}(c,r))}return i.url({pathname:t,hash:o,query:a})},navigate:function(n){h();var t=n.url,e=n.state,r=n.method;if(i.navigate({url:t,state:e},r),n.cancelled||n.finished)return c=n.cancelled,u=n.finished,v},current:function(){return{response:r,navigation:o}},destroy:function(){i.destroy()}};return i.current(),y}((function(c,u){if(void 0===u&&(u={}),!window||!window.location)throw new Error("Cannot use @hickory/hash without a DOM");var s,l,f,p=function(t){void 0===t&&(t={});var o=t.query,i=void 0===o?{}:o,a=i.parse,c=void 0===a?e:a,u=i.stringify,s=void 0===u?r:u,l=t.base;return{location:function(n,t){var e=n.url,r=n.state;if(""===e||"#"===e.charAt(0)){t||(t={pathname:"/",hash:"",query:c()});var o={pathname:t.pathname,hash:"#"===e.charAt(0)?e.substring(1):t.hash,query:t.query};return r&&(o.state=r),o}var i,a=e.indexOf("#");-1!==a?(i=e.substring(a+1),e=e.substring(0,a)):i="";var u,s=e.indexOf("?");-1!==s&&(u=e.substring(s+1),e=e.substring(0,s));var f=c(u),p=l?l.remove(e):e;""===p&&(p="/");var d={hash:i,query:f,pathname:p};return r&&(d.state=r),d},keyed:function(n,t){return n.key=t,n},stringify:function(t){if("string"==typeof t){var e=t.charAt(0);return"#"===e||"?"===e?t:l?l.add(t):t}return(void 0!==t.pathname?l?l.add(t.pathname):t.pathname:"")+n(s(t.query),"?")+n(t.hash,"#")}}}(u),d=(s=0,{major:function(n){return n&&(s=n[0]+1),[s++,0]},minor:function(n){return[n[0],n[1]+1]}}),h={confirmNavigation:function(n,t,e){l?l(n,t,e||o):t()},confirm:function(n){l=n||null}},m=h.confirm,v=h.confirmNavigation,g=function(e){switch(void 0===e&&(e="default"),e){case"clean":return{encode:function(n){var e=t(n,"/");return""!==e&&"?"!==e.charAt(0)&&"#"!==e.charAt(0)||(e="/"+e),"#"+e},decode:function(e){return n(t(e,"#"),"/")}};case"bang":return{encode:function(t){var e=n(t,"/");return"#"+n(e,"!")},decode:function(e){var r=t(e,"#");return n(t(r,"!"),"/")}};case"default":default:return{encode:function(t){return"#"+n(t,"/")},decode:function(e){return n(t(e,"#"),"/")}}}}(u.hashType),$=g.decode,y=g.encode;function w(n){var t=window.location.hash,e=$(t),r=n||i(),o=r.key,a=r.state;o||(o=d.major(),window.history.replaceState({key:o,state:a},"",t));var c=p.location({url:e,state:a});return p.keyed(c,o)}function x(n){return y(p.stringify(n))}f=y,""===window.location.hash&&window.history.replaceState(null,"",f("/"));var b=void 0!==i().key?"pop":"push",k=function(n){var t,e=n.responseHandler,r=n.utils,o=n.keygen,i=n.current,a=n.push,c=n.replace;function u(n,e,r,o){var i={location:n,action:e,finish:function(){t===i&&(r(),t=void 0)},cancel:function(n){t===i&&(o(n),i.cancelled=!0,t=void 0)},cancelled:!1};return i}function s(n){var t=r.keyed(n,o.minor(i().key));return u(t,"replace",c.finish(t),c.cancel)}function l(n){var t=r.keyed(n,o.major(i().key));return u(t,"push",a.finish(t),a.cancel)}return{prepare:function(n,t){var e=i(),o=r.location(n,e);switch(t){case"anchor":return r.stringify(o)===r.stringify(e)?s(o):l(o);case"push":return l(o);case"replace":return s(o);default:throw new Error("Invalid navigation type: "+t)}},emitNavigation:function(n){t=n,e(n)},createNavigation:u,cancelPending:function(n){t&&(t.cancel(n),t=void 0)}}}({responseHandler:c,utils:p,keygen:d,current:function(){return O.location},push:{finish:function(n){return function(){var t=x(n),e=n.key,r=n.state;try{window.history.pushState({key:e,state:r},"",t)}catch(n){window.location.assign(t)}O.location=n,b="push"}},cancel:a},replace:{finish:function(n){return function(){var t=x(n),e=n.key,r=n.state;try{window.history.replaceState({key:e,state:r},"",t)}catch(n){window.location.replace(t)}O.location=n,b="replace"}},cancel:a}}),E=k.emitNavigation,q=k.cancelPending,A=k.createNavigation,_=k.prepare,j=!1;function N(n){if(j)j=!1;else{q("pop");var t=w(n.state),e=O.location.key[0]-t.key[0],r=function(){j=!0,window.history.go(e)};v({to:t,from:O.location,action:"pop"},(function(){E(A(t,"pop",(function(){O.location=t,b="pop"}),(function(n){"pop"!==n&&r()})))}),r)}}window.addEventListener("popstate",N,!1);var O={location:w(),current:function(){E(A(O.location,b,a,a))},url:x,navigate:function(n,t){void 0===t&&(t="anchor");var e=_(n,t);q(e.action),v({to:e.location,from:O.location,action:e.action},(function(){E(e)}))},go:function(n){window.history.go(n)},confirm:m,cancel:function(){q()},destroy:function(){window.removeEventListener("popstate",N),E=a}};return O}),Tn,{sideEffects:[function(n,t){void 0===t&&(t="assertive");var e=document.createElement("div");return e.setAttribute("aria-live",t),e.setAttribute("style",["border: 0 !important;","clip: rect(1px, 1px, 1px, 1px) !important;","-webkit-clip-path: inset(50%) !important;","clip-path: inset(50%) !important;","height: 1px !important;","overflow: hidden !important;","padding: 0 !important;","position: absolute !important;","width: 1px !important;","white-space: nowrap !important;","top: 0;"].join(" ")),document.body.appendChild(e),function(t){e.textContent=n(t)}}(({response:n})=>`Navigated to ${n.location.pathname}`)]});return new class extends xn{constructor(n){super(),wn(this,n,et,tt,T,{router:0})}}({target:document.body,props:{router:rt}})}();
//# sourceMappingURL=bundle.js.map
